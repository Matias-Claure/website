{
  "extension": "ai-booking-interface",
  "version": "2.0.0",
  "site": {
    "name": "Northline Appointments",
    "base_url": "http://localhost:8000",
    "booking_page": "/index.html",
    "admin_page": "/admin.html",
    "machine_contract": "/agent-booking.json"
  },
  "capabilities": {
    "create_booking": true,
    "validate_booking": true,
    "list_bookings": true,
    "delete_booking": true,
    "admin_unlock_required_for_delete": true
  },
  "transport": {
    "preferred": {
      "mode": "http_json",
      "endpoints": {
        "create_booking": {
          "method": "POST",
          "path": "/api/bookings",
          "content_type": "application/json"
        },
        "list_bookings": {
          "method": "GET",
          "path": "/api/bookings"
        },
        "delete_booking": {
          "method": "DELETE",
          "path_template": "/api/bookings/{id}",
          "required_headers": [
            "x-admin-passcode"
          ]
        }
      }
    },
    "storage": {
      "type": "server_file",
      "path": "/data/bookings.json"
    }
  },
  "auth": {
    "admin": {
      "type": "passcode",
      "passcode": "admin123",
      "unlock_endpoint": {
        "method": "POST",
        "path": "/api/admin/unlock",
        "body": {
          "passcode": "string"
        }
      }
    }
  },
  "booking_schema": {
    "required": [
      "name",
      "email",
      "phone",
      "service",
      "date",
      "time"
    ],
    "optional": [
      "notes"
    ],
    "fields": {
      "name": {
        "type": "string",
        "min_length": 2
      },
      "email": {
        "type": "string",
        "format": "email"
      },
      "phone": {
        "type": "string",
        "pattern": "[0-9+()\\-\\s]{7,}"
      },
      "service": {
        "type": "string",
        "enum": [
          "Consultation",
          "Follow-up Session",
          "Premium Planning",
          "Virtual Meeting"
        ]
      },
      "date": {
        "type": "string",
        "format": "date",
        "rule": "must_be_today_or_future"
      },
      "time": {
        "type": "string",
        "format": "time",
        "rules": [
          "must_be_between_09:00_and_17:00",
          "combined_datetime_must_be_in_future"
        ]
      },
      "notes": {
        "type": "string",
        "required": false
      }
    }
  },
  "actions": {
    "create_booking": {
      "preferred_steps": [
        "validate payload against booking_schema",
        "POST /api/bookings with JSON body",
        "expect 201 with { ok: true, booking, message }"
      ],
      "success_signal_contains": [
        "Booking created"
      ]
    },
    "list_bookings": {
      "source": "GET /api/bookings"
    },
    "delete_booking": {
      "steps": [
        "POST /api/admin/unlock with passcode",
        "DELETE /api/bookings/{id} with x-admin-passcode header"
      ]
    }
  },
  "examples": {
    "quick_booking_payload": {
      "name": "Jordan Lee",
      "email": "jordan@example.com",
      "phone": "+1 (555) 010-2222",
      "service": "Consultation",
      "date": "2026-02-20",
      "time": "10:30",
      "notes": "First-time appointment"
    }
  }
}
