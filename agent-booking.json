{
  "extension": "ai-booking-interface",
  "version": "1.1.0",
  "site": {
    "name": "Northline Appointments",
    "base_url": "http://localhost:8000",
    "booking_page": "/index.html",
    "admin_page": "/admin.html",
    "machine_contract": "/agent-booking.json"
  },
  "capabilities": {
    "create_booking": true,
    "validate_booking": true,
    "list_bookings": true,
    "delete_booking": true,
    "admin_unlock_required_for_delete": true
  },
  "transport": {
    "preferred": {
      "mode": "javascript_api",
      "global_object": "window.NorthlineBookingAPI",
      "methods": {
        "create_booking": "createBooking(payload)",
        "validate_booking": "validateBooking(payload)",
        "list_bookings": "getSortedBookings()",
        "delete_booking": "deleteBookingById(id)"
      }
    },
    "fallback": {
      "mode": "browser-form",
      "submission": {
        "type": "html_form_submit",
        "form_selector": "#booking-form",
        "status_selector": "#form-status"
      }
    },
    "storage": {
      "type": "localStorage",
      "key": "northline_bookings"
    }
  },
  "auth": {
    "admin": {
      "type": "passcode",
      "passcode": "admin123",
      "unlock_method": "NorthlineBookingAPI.unlockAdmin(passcode)",
      "is_unlocked_method": "NorthlineBookingAPI.isAdminUnlocked()"
    }
  },
  "booking_schema": {
    "required": [
      "name",
      "email",
      "phone",
      "service",
      "date",
      "time"
    ],
    "optional": [
      "notes"
    ],
    "fields": {
      "name": {
        "type": "string",
        "min_length": 2
      },
      "email": {
        "type": "string",
        "format": "email"
      },
      "phone": {
        "type": "string",
        "pattern": "[0-9+()\\-\\s]{7,}"
      },
      "service": {
        "type": "string",
        "enum": [
          "Consultation",
          "Follow-up Session",
          "Premium Planning",
          "Virtual Meeting"
        ]
      },
      "date": {
        "type": "string",
        "format": "date",
        "rule": "must_be_today_or_future"
      },
      "time": {
        "type": "string",
        "format": "time",
        "rules": [
          "must_be_between_09:00_and_17:00",
          "combined_datetime_must_be_in_future"
        ]
      },
      "notes": {
        "type": "string",
        "required": false
      }
    }
  },
  "actions": {
    "create_booking": {
      "preferred_steps": [
        "call NorthlineBookingAPI.validateBooking(payload)",
        "if valid, call NorthlineBookingAPI.createBooking(payload)",
        "read response.message for confirmation"
      ],
      "success_signal_contains": [
        "Booked for"
      ]
    },
    "list_bookings": {
      "source": "NorthlineBookingAPI.getSortedBookings()"
    },
    "delete_booking": {
      "steps": [
        "call NorthlineBookingAPI.unlockAdmin('admin123')",
        "call NorthlineBookingAPI.deleteBookingById(id)"
      ]
    }
  },
  "examples": {
    "quick_booking_payload": {
      "name": "Jordan Lee",
      "email": "jordan@example.com",
      "phone": "+1 (555) 010-2222",
      "service": "Consultation",
      "date": "2026-02-20",
      "time": "10:30",
      "notes": "First-time appointment"
    }
  }
}
